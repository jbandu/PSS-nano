global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'airline-pss'
    environment: 'development'

# Alertmanager configuration
alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - alertmanager:9093

# Load rules once and periodically evaluate them
rule_files:
  - '/etc/prometheus/alerts/*.yml'

# Scrape configurations
scrape_configs:
  # Prometheus itself
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # Node Exporter - System metrics
  - job_name: 'node-exporter'
    static_configs:
      - targets: ['node-exporter:9100']

  # cAdvisor - Container metrics
  - job_name: 'cadvisor'
    static_configs:
      - targets: ['cadvisor:8080']

  # API Gateway
  - job_name: 'api-gateway'
    static_configs:
      - targets: ['host.docker.internal:3000']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Auth Service
  - job_name: 'auth-service'
    static_configs:
      - targets: ['host.docker.internal:3001']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Reservation Service
  - job_name: 'reservation-service'
    static_configs:
      - targets: ['host.docker.internal:3002']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Inventory Service
  - job_name: 'inventory-service'
    static_configs:
      - targets: ['host.docker.internal:3003']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Payment Service
  - job_name: 'payment-service'
    static_configs:
      - targets: ['host.docker.internal:3004']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Notification Service
  - job_name: 'notification-service'
    static_configs:
      - targets: ['host.docker.internal:3005']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Analytics Service
  - job_name: 'analytics-service'
    static_configs:
      - targets: ['host.docker.internal:3006']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Ancillary Service
  - job_name: 'ancillary-service'
    static_configs:
      - targets: ['host.docker.internal:3007']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Load Control Service
  - job_name: 'load-control-service'
    static_configs:
      - targets: ['host.docker.internal:3008']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Boarding Service
  - job_name: 'boarding-service'
    static_configs:
      - targets: ['host.docker.internal:3009']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # DCS Service
  - job_name: 'dcs-service'
    static_configs:
      - targets: ['host.docker.internal:3010']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # CMS Service
  - job_name: 'cms-service'
    static_configs:
      - targets: ['host.docker.internal:3011']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Pricing Service
  - job_name: 'pricing-service'
    static_configs:
      - targets: ['host.docker.internal:3012']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Marketing Service
  - job_name: 'marketing-service'
    static_configs:
      - targets: ['host.docker.internal:3013']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Airport Integration Service
  - job_name: 'airport-integration-service'
    static_configs:
      - targets: ['host.docker.internal:3014']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # GDS Integration Service
  - job_name: 'gds-integration-service'
    static_configs:
      - targets: ['host.docker.internal:3015']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Regulatory Compliance Service
  - job_name: 'regulatory-compliance-service'
    static_configs:
      - targets: ['host.docker.internal:3016']
    metrics_path: '/metrics'
    scrape_interval: 10s
