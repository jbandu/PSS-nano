# ============================================================================
# LOAD CONTROL SERVICE CONFIGURATION
# ============================================================================

# Service Configuration
NODE_ENV=development
PORT=3012
SERVICE_NAME=load-control-service

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/airline_pss?schema=public

# Redis Cache
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL_SECONDS=3600

# ============================================================================
# WEIGHT STANDARDS (IATA Recommended)
# ============================================================================

# Standard Passenger Weights (kg)
STANDARD_PASSENGER_WEIGHT_ADULT_MALE=88.0
STANDARD_PASSENGER_WEIGHT_ADULT_FEMALE=70.0
STANDARD_PASSENGER_WEIGHT_ADULT_AVERAGE=84.0
STANDARD_PASSENGER_WEIGHT_CHILD=35.0
STANDARD_PASSENGER_WEIGHT_INFANT=10.0

# Seasonal Adjustments (winter clothing adds weight)
WINTER_PASSENGER_WEIGHT_ADJUSTMENT=4.0

# Carry-on Baggage Weight
STANDARD_CARRYON_WEIGHT=6.0

# Checked Baggage Standard Weights
STANDARD_CHECKED_BAG_WEIGHT_ECONOMY=23.0
STANDARD_CHECKED_BAG_WEIGHT_BUSINESS=32.0
STANDARD_CHECKED_BAG_WEIGHT_FIRST=32.0

# ============================================================================
# OPERATIONAL WEIGHTS
# ============================================================================

# Crew Weights (including uniforms, manuals)
PILOT_WEIGHT=95.0
CABIN_CREW_WEIGHT=75.0

# Catering Weight per Passenger
CATERING_WEIGHT_PER_PAX_ECONOMY=0.8
CATERING_WEIGHT_PER_PAX_BUSINESS=1.5
CATERING_WEIGHT_PER_PAX_FIRST=2.0

# Service Items
DUTY_FREE_CART_WEIGHT=45.0
BEVERAGE_CART_WEIGHT=90.0
GALLEY_EQUIPMENT_WEIGHT=120.0

# Emergency Equipment (included in DOW)
EMERGENCY_EQUIPMENT_WEIGHT=200.0

# ============================================================================
# AIRCRAFT LIMITS
# ============================================================================

# Maximum Takeoff Weight enforcement
ENFORCE_MTOW=true

# Maximum Landing Weight enforcement
ENFORCE_MLW=true

# Maximum Zero Fuel Weight enforcement
ENFORCE_MZFW=true

# Structural Limits enforcement
ENFORCE_STRUCTURAL_LIMITS=true

# CG Limits enforcement (critical for safety)
ENFORCE_CG_LIMITS=true

# ============================================================================
# BALANCE CALCULATION
# ============================================================================

# Center of Gravity Calculation Method
# Options: STANDARD, ENHANCED, MANUFACTURER_SPECIFIC
CG_CALCULATION_METHOD=STANDARD

# CG Units
# Options: MAC (Mean Aerodynamic Chord %), METERS, INCHES
CG_UNITS=MAC

# CG Calculation Precision (decimal places)
CG_PRECISION=2

# Lateral Balance Threshold (kg difference side-to-side)
LATERAL_BALANCE_THRESHOLD=500.0

# ============================================================================
# LOAD OPTIMIZATION
# ============================================================================

# Enable load optimization
ENABLE_LOAD_OPTIMIZATION=true

# Optimization Targets
# Options: BALANCE, FUEL_EFFICIENCY, TURNAROUND_TIME, MIXED
OPTIMIZATION_TARGET=MIXED

# Suggest passenger reseating for balance
SUGGEST_PASSENGER_RESEATING=true

# Maximum passengers to reseat for optimization
MAX_PASSENGERS_TO_RESEAT=10

# Suggest cargo redistribution
SUGGEST_CARGO_REDISTRIBUTION=true

# ============================================================================
# LOAD SHEET GENERATION
# ============================================================================

# Load Sheet Format
# Options: IATA_STANDARD, ENHANCED, DIGITAL
LOAD_SHEET_FORMAT=IATA_STANDARD

# Load Sheet Units
# Options: METRIC (kg), IMPERIAL (lbs), BOTH
LOAD_SHEET_UNITS=METRIC

# Include Pilot Briefing Information
INCLUDE_PILOT_BRIEFING=true

# Generate PDF Load Sheet
GENERATE_PDF_LOAD_SHEET=true

# Transmit Load Sheet Digitally
DIGITAL_TRANSMISSION=true

# EFB (Electronic Flight Bag) Integration
EFB_INTEGRATION_ENABLED=false
EFB_API_ENDPOINT=

# ============================================================================
# PERFORMANCE DEGRADATION
# ============================================================================

# Warn on performance degradation
WARN_PERFORMANCE_DEGRADATION=true

# Performance degradation threshold (% from optimal)
PERFORMANCE_DEGRADATION_THRESHOLD=5.0

# ============================================================================
# REGULATORY COMPLIANCE
# ============================================================================

# Regulatory Authority
# Options: FAA, EASA, BOTH
REGULATORY_AUTHORITY=FAA

# Airline Operating Certificate
AOC_NUMBER=

# Aircraft Manufacturer Requirements
ENFORCE_MANUFACTURER_LIMITS=true

# Seasonal Weight Variations (winter vs summer)
USE_SEASONAL_WEIGHTS=true

# Current Season
# Options: SUMMER, WINTER
CURRENT_SEASON=SUMMER

# ============================================================================
# INTEGRATION ENDPOINTS
# ============================================================================

# DCS Service (for passenger count and distribution)
DCS_SERVICE_URL=http://localhost:3010

# Baggage Service (for actual baggage weights)
BAGGAGE_SERVICE_URL=http://localhost:3011

# Fuel Service (for fuel weights and distribution)
FUEL_SERVICE_URL=http://localhost:3013

# Flight Operations Service
FLIGHT_OPS_SERVICE_URL=http://localhost:3014

# ============================================================================
# MANUAL OVERRIDE
# ============================================================================

# Allow manual override of calculated values
ALLOW_MANUAL_OVERRIDE=true

# Require justification for manual override
REQUIRE_OVERRIDE_JUSTIFICATION=true

# Minimum authority level for override
# Options: DISPATCHER, LOAD_MASTER, CAPTAIN, CHIEF_PILOT
OVERRIDE_AUTHORITY_LEVEL=LOAD_MASTER

# Track all overrides in audit log
AUDIT_MANUAL_OVERRIDES=true

# ============================================================================
# SAFETY MARGINS
# ============================================================================

# Safety margin for weight calculations (kg)
WEIGHT_SAFETY_MARGIN=100.0

# Safety margin for CG calculations (% MAC)
CG_SAFETY_MARGIN=1.0

# Conservative fuel estimates
USE_CONSERVATIVE_FUEL_ESTIMATES=true

# ============================================================================
# NOTIFICATIONS
# ============================================================================

# Alert on CG limit violations
ALERT_CG_VIOLATIONS=true

# Alert on weight limit violations
ALERT_WEIGHT_VIOLATIONS=true

# Alert on lateral imbalance
ALERT_LATERAL_IMBALANCE=true

# Alert on optimization opportunities
ALERT_OPTIMIZATION_OPPORTUNITIES=false

# Notification channels
NOTIFICATION_EMAIL=ops@airline.com
NOTIFICATION_SMS=
NOTIFICATION_SLACK_WEBHOOK=

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=./logs/load-control.log

# ============================================================================
# SECURITY
# ============================================================================

JWT_SECRET=your-jwt-secret-here
API_KEY=your-api-key-here

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
