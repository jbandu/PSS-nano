# Server Configuration
NODE_ENV=development
PORT=3005
SERVICE_NAME=ancillary-service

# Database
DATABASE_URL="postgresql://neondb_owner:npg_kp4AVvbJxf9i@ep-steep-rain-a49rnsg4-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require&schema=public"

# Database (Local Development - Optional)
# DATABASE_URL="postgresql://user:password@localhost:5432/airline_ops?schema=public"

# Redis (Product & Price Caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=4
REDIS_KEY_PREFIX=anc:

# RabbitMQ (Revenue Events)
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_EXCHANGE=airline_events
RABBITMQ_QUEUE_ANCILLARY=ancillary_purchases
RABBITMQ_QUEUE_REVENUE=revenue_tracking

# Cache Configuration
CACHE_ENABLED=true
PRODUCT_CACHE_TTL=3600
PRICE_CACHE_TTL=300
AVAILABILITY_CACHE_TTL=60
BUNDLE_CACHE_TTL=1800

# External Services
RESERVATION_SERVICE_URL=http://localhost:3002
PRICING_SERVICE_URL=http://localhost:3004
NOTIFICATION_SERVICE_URL=http://localhost:3006

# Performance Targets
PRODUCT_SEARCH_TIMEOUT=200
PRICE_CALCULATION_TIMEOUT=150
PURCHASE_TIMEOUT=2000
MAX_CONCURRENT_REQUESTS=200

# Baggage Configuration
BAGGAGE_WEIGHT_TIERS=23,32,45
BAGGAGE_STANDARD_PRICE=35.00
BAGGAGE_HEAVY_PRICE=75.00
BAGGAGE_OVERSIZED_PRICE=150.00
BAGGAGE_MAX_PER_PASSENGER=5

# Seat Selection
SEAT_STANDARD_PRICE=0.00
SEAT_EXTRA_LEGROOM_PRICE=50.00
SEAT_PREMIUM_PRICE=100.00
SEAT_EXIT_ROW_PRICE=35.00
SEAT_SELECTION_CUTOFF_HOURS=2

# Meal Pre-Order
MEAL_STANDARD_PRICE=15.00
MEAL_PREMIUM_PRICE=25.00
MEAL_SPECIAL_PRICE=20.00
MEAL_CUTOFF_HOURS=24

# Lounge Access
LOUNGE_DOMESTIC_PRICE=45.00
LOUNGE_INTERNATIONAL_PRICE=65.00
LOUNGE_HOURS_BEFORE_DEPARTURE=6

# Priority Services
PRIORITY_BOARDING_PRICE=15.00
FAST_TRACK_SECURITY_PRICE=20.00
PRIORITY_CHECKIN_PRICE=10.00

# WiFi Packages
WIFI_BASIC_PRICE=9.99
WIFI_PREMIUM_PRICE=19.99
WIFI_UNLIMITED_PRICE=29.99

# Travel Insurance
INSURANCE_BASIC_PRICE=25.00
INSURANCE_PREMIUM_PRICE=50.00
INSURANCE_CANCEL_FOR_ANY_PRICE=100.00

# Equipment Rental
WHEELCHAIR_RENTAL_PRICE=0.00
CAR_SEAT_RENTAL_PRICE=15.00
PET_CARRIER_RENTAL_PRICE=25.00

# Dynamic Pricing
ENABLE_DYNAMIC_PRICING=true
TIME_TO_DEPARTURE_MULTIPLIER_EARLY=0.8
TIME_TO_DEPARTURE_MULTIPLIER_LATE=1.5
DEMAND_MULTIPLIER_LOW=0.9
DEMAND_MULTIPLIER_HIGH=1.3
MAX_DYNAMIC_INCREASE=2.0

# Bundling
ENABLE_BUNDLING=true
BUNDLE_DISCOUNT_LIGHT=0.00
BUNDLE_DISCOUNT_STANDARD=15.00
BUNDLE_DISCOUNT_MAX=25.00
BUNDLE_MIN_ITEMS=2

# Loyalty Pricing
LOYALTY_SILVER_DISCOUNT=5
LOYALTY_GOLD_DISCOUNT=10
LOYALTY_PLATINUM_DISCOUNT=15
LOYALTY_ELITE_DISCOUNT=20

# Channel Pricing
WEB_BOOKING_DISCOUNT=0.00
MOBILE_BOOKING_DISCOUNT=5.00
KIOSK_MARKUP=0.00
GATE_MARKUP=10.00
AGENT_MARKUP=5.00

# Personalization
ENABLE_PERSONALIZED_PRICING=true
SEGMENT_BUSINESS_MULTIPLIER=1.2
SEGMENT_LEISURE_MULTIPLIER=0.9
SEGMENT_FAMILY_MULTIPLIER=1.0

# Availability Rules
DOMESTIC_BAGGAGE_LIMIT=3
INTERNATIONAL_BAGGAGE_LIMIT=5
MEAL_PREORDER_MIN_HOURS=24
SEAT_SELECTION_MIN_HOURS=2
LOUNGE_ACCESS_MAX_HOURS=6

# EMD Configuration
EMD_PREFIX=125
EMD_NUMBER_LENGTH=13
EMD_VALIDITY_DAYS=365

# Revenue Targets (Annual)
TARGET_ANNUAL_PASSENGERS=10000000
TARGET_ANCILLARY_REVENUE=3750000
TARGET_REVENUE_PER_PASSENGER=0.375
TARGET_ATTACH_RATE=0.65

# A/B Testing
ENABLE_AB_TESTING=true
AB_TEST_SAMPLE_SIZE=0.1
AB_TEST_VARIANTS=2

# Post-Booking Upsell
ENABLE_POST_BOOKING_UPSELL=true
UPSELL_EMAIL_DELAY_HOURS=24
UPSELL_DISCOUNT_PERCENTAGE=10
UPSELL_CUTOFF_HOURS=48

# Product Mix Optimization
OPTIMIZE_PRODUCT_MIX=true
OPTIMIZATION_INTERVAL_HOURS=24
MIN_INVENTORY_THRESHOLD=10

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Logging
LOG_LEVEL=info
LOG_DIR=logs

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9005
TRACK_ATTACH_RATES=true
TRACK_REVENUE_PER_PAX=true

# Feature Flags
ENABLE_SEAT_SELECTION=true
ENABLE_MEAL_PREORDER=true
ENABLE_LOUNGE_ACCESS=true
ENABLE_PRIORITY_SERVICES=true
ENABLE_WIFI=true
ENABLE_INSURANCE=true
ENABLE_EQUIPMENT_RENTAL=true
